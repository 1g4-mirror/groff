.tr ~
.ig
Copyright (C) 1994-2000, 2001, 2003 Free Software Foundation, Inc.

Permission is granted to make and distribute verbatim copies of
this manual provided the copyright notice and this permission notice
are preserved on all copies.

Permission is granted to copy and distribute modified versions of this
manual under the conditions for verbatim copying, provided that the
entire resulting derived work is distributed under the terms of a
permission notice identical to this one.

Permission is granted to copy and distribute translations of this
manual into another language, under the above conditions for modified
versions, except that this permission notice may be included in
translations approved by the Free Software Foundation instead of in
the original English.
..
.\" Like TP, but if specified indent is more than half
.\" the current line-length - indent, use the default indent.
.de Tp
.ie \\n(.$=0:((0\\$1)*2u>(\\n(.lu-\\n(.iu)) .TP
.el .TP "\\$1"
..
.TH HPFTODIT @MAN1EXT@ "@MDATE@" "Groff Version @VERSION@"
.\" --------------------------------------------------------------------------
.SH NAME
.\" --------------------------------------------------------------------------
hpftodit \- create font description files for use with groff \-Tlj4
.\" --------------------------------------------------------------------------
.SH SYNOPSIS
.\" --------------------------------------------------------------------------
.B hpftodit
[
.B \-adqsv
]
[
.BI \-i n
]
.I tfm_file
.I map_file
.I font
.PP
It is possible to have whitespace between the
.B \-i
option and its parameter.
.\" --------------------------------------------------------------------------
.SH DESCRIPTION
.\" --------------------------------------------------------------------------
.B hpftodit
creates a font file for use with an HP LaserJet printer with
.BR "groff \-Tlj4" ,
using data from an HP tagged font metric (TFM) file.
.I tfm_file
is the name of the tagged font metric file for the font; Intellifont and
TrueType TFM files are supported, but symbol set TFM files are not.
.I map_file
is a file giving the groff names for characters in the font; this file
should consist of a sequence of lines of the form:
.IP
.I
m u c1 c2 \fR.\|.\|.
.LP
where
.I m
is a decimal integer giving the MSL number of the character,
.I u
is a hexadecimal integer giving the Unicode value of the character,
and
.IR c1 ,
.IR c2 ,.\|.\|.
are the groff names of the character.
The values can be separated by any whitespace; the Unicode value must
use uppercase digits A\^\(en\^F, and must be without a leading `0x', `u', or
\&`U+'.
The name for a glyph without a groff name may be given as
.RI u XXXX
if the glyph corresponds to a Unicode value, or as an unnamed glyph
`\-\^\-\^\-'.
If the given Unicode value is in the Private Use Area
(0xE000\^\(en\^0xF8FF), the glyph is included as an unnamed glyph.
Refer to
.BR groff_diff (@MAN1EXT@)
for additional information about unnamed glyphs and how to access them.
.LP
.I font
is the name of the groff font file.
The groff font file is written to
.IR font ;
if
.I font
is specified as `\-', the output is written to the standard output.
.LP
The
.B \-s
option should be given if the font is special
(a font is
.I special
if
.B troff
should search it whenever
a character is not found in the current font).
If the font is special,
it should be listed in the
.B fonts
command in the DESC file;
if it is not special, there is no need to list it, since
.B troff
can automatically mount it when it's first used.
.LP
If the
.B \-i
option is used,
.B hpftodit
will automatically generate an italic correction,
a left italic correction and a subscript correction
for each character
(the significance of these parameters is explained in
.BR groff_font (@MAN5EXT@)).
.LP
The metrics generated by
.B hpftodit
assume that the DESC file contains values of 1200 for res and 6350 for
unitwidth (or any combination (e.g., 2400 and 3175) for which
res~\(mu~unitwidth~=~7\|620\|000).
Although HP PCL 5 LaserJet printers support an internal resolution of
7200 units per inch, they use a 16-bit signed integer for cursor
positioning; if
.B devlj4
is to support U.S. ledger paper (11\(sd~\(mu~17\(sd), the maximum usable
resolution is 32\|767~/~17, or 1927, units per inch, which rounds down to
1200 units per inch.
If the largest required paper size is less (e.g., 8.5\(sd~\(mu~11\(sd or
A5), a greater resolution (and lesser unitwidth) can be specified.
.\" --------------------------------------------------------------------------
.SH OPTIONS
.\" --------------------------------------------------------------------------
.TP
.B \-a
Include characters in the TFM file that do not have groff names and are
not included in the map file.
A glyph with corresponding Unicode value is given the name
.RI u XXXX ;
a glyph without a Unicode value is included as an unnamed glyph
`\-\^\-\^\-'.
A glyph with a Unicode value in the Private Use Area (0xE000\^\(en\^0xF8FF)
also is included as an unnamed glyph.
This option has no effect on Unicode-named or unnamed glyphs that are
specified in the map file.
.IP
This option provides a simple means of adding Unicode-named and unnamed
glyphs to a font without including them in the map file, but it affords
little control over which glyphs are placed in a regular font and which
are placed in a special font.
Although the presence or absence of the
.B \-s
option has some effect on which glyphs are included, it isn't very
selective\(emmany glyphs are placed in both regular and special fonts.
.\" --------------------------------------------------------------------------
.TP
.B \-d
Dump information about the TFM file to the standard output; this option
can be useful for ensuring that a TFM file is a proper match for a font,
and that the contents of the TFM file are suitable.
The information includes the values of important TFM tags, and a listing
(by MSL number for Intellifont TFM files or by Unicode value for
TrueType TFM files) of the glyphs included in the TFM file.
The unit of measure `DU' for some tags indicates design units; there are
8782 design units per em for Intellifont fonts, and 2048 design units
per em for TrueType fonts.
Note that the accessibility of a glyph depends on its inclusion in a
symbol set; some TFM files list many glyphs but only a few symbol sets.
.IP
With this option,
.I map_file
and
.I font
are not required, and are ignored if given.
.\" --------------------------------------------------------------------------
.TP
.B \-q
Suppress warnings about characters in the map file that were not found
in the TFM file.
Warnings never are given for unnamed glyphs or by glyphs named by their
Unicode values.
This option is useful when sending the output of
.B hpftodit
to the standard output.
.\" --------------------------------------------------------------------------
.TP
.B \-v
Print the version number.
.\" --------------------------------------------------------------------------
.TP
.B \-s
The font is special.
This option adds the
.B special
command to the font file, and affects the HP symbol sets that are
searched for each glyph.
.\" --------------------------------------------------------------------------
.TP
.BI \-i n
Generate an italic correction for each character so that the character's
width plus the character's italic correction is equal to
.I n
thousandths of an em plus the amount by which the right edge of the character's
bounding is to the right of the character's origin.
If this would result in a negative italic correction, use a zero italic
correction instead.
.IP
Also generate a subscript correction equal to the 
product of the tangent of the slant of the font and
four fifths of the x-height of the font.
If this would result in a subscript correction greater than the italic
correction, use a subscript correction equal to the italic correction
instead.
.IP
Also generate a left italic correction for each character
equal to
.I n
thousandths of an em plus the amount by which the left edge of the
character's bounding box is to the left of the character's origin.
The left italic correction may be negative.
.IP
This option normally is needed only with italic or oblique fonts;
a value of 50 (0.05 em) usually is a reasonable choice.
.\" --------------------------------------------------------------------------
.SH FILES
.\" --------------------------------------------------------------------------
.Tp \w'\fB@FONTDIR@/devlj4/DESC'u+2n
.B @FONTDIR@/devlj4/DESC
Device description file.
.TP
.BI @FONTDIR@/devlj4/ F
Font description file for font
.IR F .
.\" --------------------------------------------------------------------------
.SH LIMITATIONS
.\" --------------------------------------------------------------------------
Although
.B hpftodit
can read TrueType TFM files, most of the HP-supplied TFM files for
TrueType fonts support relatively few glyphs and include little, if any,
kerning information.
When the HP LaserJet 4 printer was first introduced, most of the
internal scalable fonts were Agfa Intellifont.
The TFM files provided for these fonts supported 600+ glyphs and
contained extensive lists of kern pairs.
.LP
All scalable internal fonts on LaserJet printers introduced since
approximately 1996 have been TrueType.
With most developers using other means of obtaining font metrics by that
time, support for new TFM files was very limited.
The TFM files provided for the TrueType fonts support only the Latin 2
(ISO 8859-2) symbol set, and include no kerning information;
consequently, they are of little value for any but the most rudimentary
documents.
.LP
Because the Intellifont TFM files contain considerably more information,
they generally are preferable to the TrueType TFM files even for the
TrueType fonts in the newer printers.
The metrics for the TrueType fonts are very close, though not identical,
to those for the earlier Intellifont fonts of the same names.
Although most output using the Intellifont metrics with the newer
printers is quite acceptable, a few glyphs may fail to print as expected.
.LP
At the time HP last supported TFM files, only Version 1 of the Unicode
standard was available.
Consequently, many glyphs lacking assigned code points were assigned by
HP to the Private Use Area (PUA).
Later versions of the Unicode standard included code points outside the
PUA for many of these glyphs.
The HP-supplied TrueType TFM files use the PUA assignments;
TFM files generated from more recent TrueType font files require the
later Unicode values to access the same glyphs.
Consequently, two different mapping files may be required: one for the
HP-supplied TFM files, and one for more recent TFM files.
.\" --------------------------------------------------------------------------
.SH "SEE ALSO"
.\" --------------------------------------------------------------------------
.ad 0
.BR groff (@MAN1EXT@),
.BR groff_diff (@MAN1EXT@),
.BR grolj4 (@MAN1EXT@),
.BR groff_font (@MAN5EXT@)
.
.\" Local Variables:
.\" mode: nroff
.\" End:
